
sequenceDiagram
    participant Client
    participant API as /api/reports/budgets
    participant AuthenticationMiddleware
    participant Report as ReportService
    participant Db as FinancetrackerContext

    Client->>API: GET /api/reports/budgets?from=...&to=...
    API->>AuthenticationMiddleware: validate token -> get userId
    AuthenticationMiddleware-->>API: userId
    API->>Report: GenerateBudgetReportPdfAsync(userId, from, to)
    Report->>Db: load Budgets & Transactions
    Db-->>Report: data
    Report-->>API: PDF bytes
    API-->>Client: 200 File (pdf)
