
sequenceDiagram
    participant Client
    participant API as /api/spent-by-category/{interval}
    participant AuthenticationMiddleware
    participant Db as FinancetrackerContext

    Client->>API: GET /api/spent-by-category/{interval}
    API->>AuthenticationMiddleware: validate token -> get userId
    AuthenticationMiddleware-->>API: userId
    API->>Db: SELECT transactions WHERE userId AND date >= periodStart AND is expense
    Db-->>API: transactions grouped by category
    API-->>Client: 200 OK { TotalSpent, ByCategory }
